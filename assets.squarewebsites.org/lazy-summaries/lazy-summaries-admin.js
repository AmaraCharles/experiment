!function(){function FindReact(e,t){for(var i in e)if(i.startsWith("__reactInternalInstance$")||i.startsWith("__reactFiber$")){res=e[i];try{if(e[i]._currentElement){var r=e[i]._currentElement,a=r._owner,o=a._instance;res=o}else if(e[i].child&&e[i].child.props&&"not_child"!==t)res=e[i].child;else if(e[i].child&&e[i].child.pendingProps&&"not_child"!==t)res=e[i].child;else if(e[i].pendingProps){var n=e[i].pendingProps.children._owner?e[i].pendingProps.children._owner.stateNode:e[i].pendingProps.children[0]&&e[i].pendingProps.children[0]._owner?e[i].pendingProps.children[0]._owner.stateNode:e[i].return.stateNode?e[i].return.stateNode:null;n&&(res=n)}else if(e[i].memoizedProps){var l=e[i].memoizedProps.children._owner?e[i].memoizedProps.children._owner.stateNode:e[i].memoizedProps.children[0]&&e[i].memoizedProps.children[0]._owner?e[i].memoizedProps.children[0]._owner.stateNode:e[i].return.stateNode?e[i].return.stateNode:null;l&&(res=l)}}catch(e){console.log(e)}return res}return null}function createStylesheet(e,t){if(!document.getElementById(t)){var i=document.getElementsByTagName("head")[0],r=document.createElement("link");r.id=t,r.rel="stylesheet",r.type="text/css",r.href=e+"?cache="+ +((new Date).getTime()+"").substr(0,7),r.media="all",i.appendChild(r)}}function my_debounce(e,t,i){var r;return function(){var a=this,o=arguments,n=function(){r=null,i||e.apply(a,o)},l=i&&!r;clearTimeout(r),r=setTimeout(n,t),l&&e.apply(a,o)}}function getFieldObj(e,t){if(e&&e.length){var i=!1;return e.forEach(function(e){(e.name&&e.name==t||e.config&&e.config.name&&e.config.name==t)&&(i=e)}),i}return!1}function checkOptionsExists(e,t){var i=!1;if(e&&e.length)for(var r=e.length-1;r>=0;r--)e[r].value&&e[r].value===t&&(i=!0);return i}function initFireLayoutEdit(e){e=e||window;var t=e.document.body;if(!e.SQSLayoutObserver&&t){var i=my_debounce(function(e){Y.Global.fire("SQSLayout:edit",{context:e})},2e3,!1);e.SQSLayoutObserver=new MutationObserver(function(t){t.forEach(function(t){if("attributes"==t.type&&"class"===t.attributeName)try{t.target.className&&t.target.className.indexOf&&(t.target.className.indexOf("sqs-layout-rendering")>-1||t.target.className.indexOf("sqs-editing")>-1||t.target.className.indexOf("sqs-is-page-editing")>-1)&&i(e)}catch(e){console.log(e,t.target.className)}})}),e.SQSLayoutObserver.observe(t,{childList:!0,subtree:!0,attributes:!0})}}function getwpJsonpExtractCssModule(e,t,i){i=i||window.top;for(var r=null,a=i.wpJsonpExtractCss.length-1;a>=0;a--){var o=i.wpJsonpExtractCss[a];o.length&&o[1]&&o[1][e]&&(t&&"function"==typeof t&&(o[1][e]=t),r=o[1][e])}return r}function initNewDialogsWatcher(e){e=e||window;var t=e.document.body;if(!e.newDialogsObserver&&t){var i=my_debounce(function(e,t){Y.Global.fire("Dialog:edit",{context:e})},200,!1);e.newDialogsObserver=new MutationObserver(function(e){e.forEach(function(e){if(e.target)e.target.className&&e.target.className.indexOf&&e.target.className.indexOf("BlockEditorContainer-desktop-dialogContainer")>-1?i(e.target,4):e.target.dataset&&"block-editor-container"==e.target.dataset.test&&i(e.target,5);else if(e.addedNodes&&e.addedNodes[0]){var t=Array.prototype.slice.call(e.addedNodes[0].childNodes);if(e.addedNodes[0].className&&e.addedNodes[0].className.length)e.addedNodes[0].className.indexOf("BlockEditorContainer-desktop-dialogContainer")>-1&&i(e.addedNodes[0],1);else if(t[0]&&t[0].childNodes){var r=Array.prototype.slice.call(t[0].childNodes);r.forEach(function(e){e.className&&e.className.indexOf&&e.className.indexOf("BlockEditorContainer-desktop-dialogContainer")>-1&&i(e,2)})}}})}),e.newDialogsObserver.observe(t,{childList:!0,subtree:!0,attributes:!0})}}function initNewDialogLazySummaries(target){if(target.context){var dialog=FindReact(target.context);if(dialog&&dialog.pendingProps&&dialog.pendingProps.config&&dialog.pendingProps.config.uiSchema&&dialog.pendingProps.blockTypeName&&"summary_v2"==dialog.pendingProps.blockTypeName){var model_attrs=!1;dialog.observer||(dialog.observer=new MutationObserver(function(e){for(let i of e)if("childList"===i.type){var t=i.target.querySelector('input[type="range"][max="30"]');t&&t.setAttribute("max","250")}}),dialog.observer.observe(target.context,{childList:!0,subtree:!0}));try{target.context.parentNode.parentNode.classList.add("block-config-dialog-summary_v2");var model=dialog.pendingProps.host.get("model");model_attrs=model&&model.getAttrs&&model.getAttrs();var updatePanel=function(){try{var e=target.context.querySelectorAll('[role="tablist"] [role="tab"]'),t=target.context.querySelector('div[class*="Transition-panel-"] > div'),i=FindReact(t,"not_child");if(t&&i.updater&&i.updater.enqueueForceUpdate){try{dialog.pendingProps.config.uiSchema&&(i.props.context.configurations.default.uiSchema=dialog.pendingProps.config.uiSchema)}catch(e){console.log("Can not apply config to tabs and render",e)}i.updater.enqueueForceUpdate(i),setTimeout(function(){e=t.querySelectorAll('[role="tablist"] [role="tab"]'),e[2]&&e[2].click()},300)}else e[1]&&e[1].click()}catch(e){console.log(e)}},uiSchema=dialog.pendingProps.config.uiSchema,routes=dialog.pendingProps.config.routes,customColumns={type:"group",properties:{children:[{type:"boolean",properties:{label:"Use Columns Number instead of Column Width",description:"Plugin will try ignore SS column settings and allow you to use own settings across devices.",defaultValue:!1},trackingId:"useNumberInRow",$mapping:"#/useNumberInRow"},{type:"group",$conditional:{$if:{$pointer:"#/useNumberInRow",$comparator:{ne:!0}},$then:{type:"hidden"}},properties:{children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"Desktop columns number",description:"Select the number of columns per row, it follows regular gutter settings.",min:1,max:10,step:1},$mapping:"#/itemsInRow"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Use separate settings for tablets (1024px-641px width)"},trackingId:"tabletSettings",$mapping:"#/tabletSettings"},{type:"spacer",properties:{gridMultiplier:2}},{type:"group",$conditional:{$if:{$pointer:"#/tabletSettings",$comparator:{ne:!0}},$then:{type:"hidden"}},properties:{children:[{type:"range",properties:{label:"Tablet columns number",min:1,max:10,step:1},$mapping:"#/tabletColumns"},{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"Tablet columns gutter",min:0,max:100,step:1},$mapping:"#/tabletGutter"}]}},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Use separate settings for mobiles (<641px width)."},trackingId:"mobileSettings",$mapping:"#/mobileSettings"},{type:"spacer",properties:{gridMultiplier:2}},{type:"group",$conditional:{$if:{$pointer:"#/mobileSettings",$comparator:{ne:!0}},$then:{type:"hidden"}},properties:{children:[{type:"range",properties:{label:"Mobile columns number",min:1,max:10,step:1},$mapping:"#/mobileColumns"},{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"Mobile columns gutter",min:0,max:100,step:1},$mapping:"#/mobileGutter"}]}}]}}]}},lazySchema={type:"group",properties:{label:"Lazy Settings",children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Enable Lazy Summary load (more than 30 items)?",defaultValue:!1,description:"Plugin will load other items with AJAX, source collection REQUIRED to be enabled and not passworded/membered"},trackingId:"enableLazy",$mapping:"#/enableLazy"},{type:"group",$conditional:{$if:{"#/enableLazy":{ne:!0}},$then:{type:"hidden"}},properties:{children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Load all (if checked) or use Load more?",description:"If unchecked, Load more button will appear",defaultValue:!1},trackingId:"loadAllOrPag",$mapping:"#/loadAllOrPag"},{type:"spacer",properties:{gridMultiplier:2}},{type:"group",$conditional:{$if:{$pointer:"#/loadAllOrPag",$comparator:{ne:!1}},$then:{type:"hidden"}},properties:{children:[{type:"boolean",properties:{label:"Enable Lazy Scroll",description:"If checked, additional Summary items are loading when your scroll reach the enad of current items."},trackingId:"lazyScroll",$mapping:"#/lazyScroll"},{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"Items number to load",description:"Select the number of items to load on Load more click",min:1,max:100,step:1},$mapping:"#/loadPageSize"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Hide Load More Button",description:"If checked, Summary still receiving the additional data, but Load More button is not showed."},trackingId:"hideLoadMore",$mapping:"#/hideLoadMore"},{type:"spacer",properties:{gridMultiplier:2}},{type:"textarea",properties:{label:"Load more button text",defaultValue:"Load more..."},trackingId:"loadMoreText",$mapping:"#/loadMoreText"}]}},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Enable items caching, improve next loading time",description:"This will cache loaded items for 10 minutes, works per user (and user browser)."},trackingId:"useSessionCache",$mapping:"#/useSessionCache"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Use Squarewebsites.org Server SPEED",description:"This will cache your collection json data on our server and make it faster accessible for all your users.",defaultValue:!1},trackingId:"useSQSProxy",$mapping:"#/useSQSProxy"},{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"Cache time, minutes",description:"Time to request new cached version from squarewebsites.org",min:10,max:60,step:1},$conditional:{$if:{$pointer:"#/useSQSProxy",$comparator:{ne:!0}},$then:{type:"hidden"}},$mapping:"#/proxyCacheTime"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Enable Custom Index Collection?",description:"Useful when using some custom collection with items JSON-data. May be used for external json sources with custom process function.",defaultValue:!1},trackingId:"customLazyIndex",$mapping:"#/customLazyIndex"},{type:"spacer",properties:{gridMultiplier:2}},{type:"textarea",$conditional:{$if:{$pointer:"#/customLazyIndex",$comparator:{ne:!0}},$then:{type:"hidden"}},properties:{label:"Collections Index Url",defaultValue:""},trackingId:"customLazyIndexUrl",$mapping:"#/customLazyIndexUrl"}]}}]},trackingId:"lazy-tab"},additionalSchema={type:"group",properties:{label:"Additional",children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Follow Source urls, Clickthrough urls in new window?",description:"If you have Source urls or Clickthrough url - you may enable this and links will be opened in new window/tab."},trackingId:"followSourceUrl",$mapping:"#/followSourceUrl"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Enable Lightbox?",description:"Try enable lightbox on any collection (not just default Galleries only), may not always work as you expected. Ensure you're trying to use with items having thumbnails.",defaultValue:!1},trackingId:"lightbox",$mapping:"#/lightbox"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Lightbox Overlay Colour",enum:["dark","light"],defaultValue:"dark",enumAnnotation:[{label:"Dark"},{label:"Light"}]},$conditional:{$if:{$pointer:"#/lightbox",$comparator:{ne:!0}},$then:{type:"hidden"}},$mapping:"#/lightboxOverlay"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Disable Summary Initialization?",description:"Useful when using some custom layout or Isotope - Squarespace Summary not starting at all"},trackingId:"ignoreInit",$mapping:"#/ignoreInit"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Enable Alternative Images on hover?",description:"Show second image on hover, works for Products and items with internal galleries, may be article image used."},trackingId:"alternateImages",$mapping:"#/alternateImages"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Render Excerpt as HTML",description:"If you have HTML in excerpts and want to unescape it, check this."},trackingId:"enableExcerptHTML",$mapping:"#/enableExcerptHTML"},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Show item body instead of excerpt",description:"You may show some internal content right there. May not work due to template or current Squarespace settings."},trackingId:"enableLazyBody",$mapping:"#/enableLazyBody"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Add Categories/Tags classes",description:"Lazy will add classes to .summary-item element.<br> This may be used to style items in different ways based on categories/tags it has.<br>It will add classes like <strong>.lzs-category-dresses,.lzs-tag-red</strong>",defaultValue:"none",enum:["none","categories","tags","both"],enumAnnotation:[{label:"None"},{label:"Categories"},{label:"Tags"},{label:"Both"}]},$mapping:"#/addCatTagClasses"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Sort items:",description:'Will work if title or price showed on page.<br><b>Will not work</b> with our <a href="https://www.squarewebsites.org/products/universal-filter">Universal Filter<a>, use Filter functionality instead.',defaultValue:"no-sort",enum:["no-sort","alph","alph-desc","last-word-asc","last-word-desc","price-asc","price-desc","date-asc","date-desc","likes-asc","likes-desc","random"],enumAnnotation:[{label:"None"},{label:"Title A-Z"},{label:"Title Z-A"},{label:"Title Last Word A-Z"},{label:"Title Last Word Z-A"},{label:"Price (Low-High)"},{label:"Price (High-Low)"},{label:"Older-Newer"},{label:"Newer-Older"},{label:"Less Popular, by likes"},{label:"More Popular, by likes"},{label:"Randomize"}]},$mapping:"#/sortSummaryItems"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Show Share buttons",description:"Share your item link",defaultValue:"noShare",enum:["noShare","primary","secondary"],enumAnnotation:[{label:"None"},{label:"Primary Metadata"},{label:"Secondary Metadata"}]},$mapping:"#/showShareButtons"},{type:"group",$conditional:{$if:{$pointer:"#/showShareButtons",$comparator:{eq:"noShare"}},$then:{type:"hidden"}},properties:{children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"segmentedradio",properties:{description:"Share buttons alignment",enum:["left","center","right"],enumAnnotation:[{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0IDRIMlY2SDE0VjRaIiBmaWxsPSIjMEUwRTBFIi8+CjxwYXRoIGQ9Ik0yMCA4SDJWMTBIMjBWOFoiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTIgMTJIMjBWMTRIMlYxMloiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTE0IDE2SDJWMThIMTRWMTZaIiBmaWxsPSIjMEUwRTBFIi8+Cjwvc3ZnPgo=",showLabel:!1},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE3IDRINVY2SDE3VjRaIiBmaWxsPSIjMEUwRTBFIi8+CjxwYXRoIGQ9Ik0yMCA4SDJWMTBIMjBWOFoiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTIgMTJIMjBWMTRIMlYxMloiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTE3IDE2SDVWMThIMTdWMTZaIiBmaWxsPSIjMEUwRTBFIi8+Cjwvc3ZnPgo=",showLabel:!1},{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjIiIHZpZXdCb3g9IjAgMCAyMiAyMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwIDRIOFY2SDIwVjRaIiBmaWxsPSIjMEUwRTBFIi8+CjxwYXRoIGQ9Ik0yMCA4SDJWMTBIMjBWOFoiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTIgMTJIMjBWMTRIMlYxMloiIGZpbGw9IiMwRTBFMEUiLz4KPHBhdGggZD0iTTIwIDE2SDhWMThIMjBWMTZaIiBmaWxsPSIjMEUwRTBFIi8+Cjwvc3ZnPgo=",showLabel:!1}]},$mapping:"#/buttonsIconAlignment"},{type:"spacer",properties:{gridMultiplier:2}},{type:"segmentedradio",properties:{description:"Share buttons size",defaultValue:"small",enum:["extra-small","small","medium","large","extra-large"],enumAnnotation:[{label:"XS"},{label:"S"},{label:"M"},{label:"L"},{label:"XL"}]},$mapping:"#/buttonsIconSize"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Share buttons style",defaultValue:"square-border",enum:["regular","circle-border","circle-knockout","circle-solid","square-border","square-knockout","square-solid","rounded-border","rounded-knockout","rounded-solid"],enumAnnotation:[{label:"Regular"},{label:"Circle - Border"},{label:"Circle - Knockout"},{label:"Circle - Solid"},{label:"Square - Border"},{label:"Square - Knockout"},{label:"Square - Solid"},{label:"Rounded - Border"},{label:"Rounded - Knockout"},{label:"Rounded - Solid"}]},$mapping:"#/buttonsIconStyle"},{type:"spacer",properties:{gridMultiplier:2}},{type:"dropdownselect",properties:{label:"Share buttons color",defaultValue:"black",enum:["black","white","standard"],enumAnnotation:[{label:"Black"},{label:"White"},{label:"Standard"}]},$mapping:"#/buttonsIconColor"}]}},{type:"spacer",properties:{gridMultiplier:2}},{type:"boolean",properties:{label:"Use Lazy Filter",description:"Useful for virtual categories/tags, do not use if not needed or you do not understand why needed."},trackingId:"enableLazyFilter",$mapping:"#/enableLazyFilter"},{type:"textarea",properties:{label:"Set Categories",description:"Set categories to filter by, use comma as a separator for multiple.",placeholder:"Red, Blue,..."},$conditional:{$if:{$pointer:"#/enableLazyFilter",$comparator:{ne:!0}},$then:{type:"hidden"}},trackingId:"lazyFilterCats",$mapping:"#/lazyFilter/category"},{type:"textarea",properties:{label:"Set Tags",description:"Set tags to filter by, use comma as a separator for multiple.",placeholder:"L, XL,..."},$conditional:{$if:{$pointer:"#/enableLazyFilter",$comparator:{ne:!0}},$then:{type:"hidden"}},trackingId:"lazyFilterTags",$mapping:"#/lazyFilter/tag"}]},trackingId:"additional-lazy-tab"};if(!dialog.pendingProps.config.uiSchema[0].properties.children[2]||!dialog.pendingProps.config.uiSchema[0].properties.children[3]){var styling_route=routes&&routes["summary-size-and-spacing"]&&routes["summary-size-and-spacing"].targetPanelPath;if(styling_route){var styling=eval("dialog.pendingProps.config.uiSchema"+styling_route);styling&&eval("dialog.pendingProps.config.uiSchema"+styling_route).push(customColumns)}var wrapItemsWithLink={type:"boolean",properties:{label:"Wrap Summary Items with a link",defaultValue:!1,description:"Plugin will make the whole item clickable with a link, useful for cards with texts.<br/> It will use the link you already have in title or thumb"},trackingId:"wrapItemsWithLink",$mapping:"#/wrapItemsWithLink"},readMoreText={type:"textarea",properties:{label:"Set Read More Link Text",description:"You may leave empty and default text will be applied",placeholder:"Read More"},$conditional:{$if:{$pointer:"#/showReadMoreLink",$comparator:{ne:!0}},$then:{type:"hidden"}},trackingId:"readMoreText",$mapping:"#/readMoreText"},listImageSize={type:"group",properties:{children:[{type:"spacer",properties:{gridMultiplier:2}},{type:"range",properties:{label:"List Image Size, %",description:"Specify how wide the image should be in relation to the text.",min:5,max:90,step:1},$mapping:"#/listImageSize"}]},$conditional:{$if:{allOf:[{"#/design":{ne:"list"}}]},$then:{type:"hidden"}}},showAllEvents={type:"boolean",properties:{label:"Show All Events?",defaultValue:!1,description:"Plugin will show past and upcoming events if possible"},trackingId:"allEvents",$mapping:"#/allEvents",$conditional:{$if:{scope:"currentCollection",$pointer:"#/collectionType",$comparator:{ne:"events"}},$then:{type:"hidden"}}},queryEventsTill={type:"textarea",properties:{label:"Set the Year",defaultValue:!1,description:"Plugin will query events by years until reached the one you specified, use this if not all of your Past or Upcoming Events are loaded.</br>This is needed because I see no ther ways to query all past events, that's a Squarespace issue."},trackingId:"queryEventsTill",$mapping:"#/queryEventsTill",$conditional:{$if:{scope:"currentCollection",$pointer:"#/collectionType",$comparator:{ne:"events"}},$then:{type:"hidden"}}};if(dialog.pendingProps.config.uiSchema[0].properties.children[1].properties.children){var pastedWrapLink=!1,pastedReadmMoreText=!1,pageSizeRange=!1,pastedAllEvents=!1;dialog.pendingProps.config.uiSchema[0].properties.children[1].properties.children.forEach(function(e,t){e.type&&"group"==e.type&&e.properties&&JSON.stringify(e.properties).indexOf("#/columnWidth")>-1&&(e.$conditional={$if:{allOf:[{"#/design":{ne:"carousel"}},{"#/design":{ne:"autogrid"}},{"#/design":{ne:"autocolumns"}}]},$then:{type:"hidden"}})}),dialog.pendingProps.config.uiSchema[0].properties.children[1].properties.children.forEach(function(e,t){e.$mapping&&"#/pageSize"==e.$mapping&&!pageSizeRange&&(e.properties.max=250),e.type&&"group"==e.type&&e.properties&&e.properties.children&&e.properties.children.forEach(function(t,i){t.$mapping&&"#/listImageAlignment"==t.$mapping&&e.properties.children.splice(i+1,0,{type:"range",properties:{label:"List Image Size, %",description:"Specify how wide the image should be in relation to the text.",min:5,max:90,step:1},$mapping:"#/listImageSize"}),t.$mapping&&"#/imageAspectRatio"==t.$mapping&&e.$conditional&&(e.$conditional={$if:{allOf:[{"#/design":{ne:"carousel"}},{"#/design":{ne:"autogrid"}},{"#/design":{ne:"list"}},{"#/design":{ne:"autocolumns"}}]},$then:{type:"hidden"}})}),e.trackingId&&"show-excerpt"==e.trackingId&&!pastedWrapLink&&(dialog.pendingProps.config.uiSchema[0].properties.children[1].properties.children.splice(t+1,0,wrapItemsWithLink),pastedWrapLink=!0),e.trackingId&&"show-read-more-link"==e.trackingId&&!pastedReadmMoreText&&(dialog.pendingProps.config.uiSchema[0].properties.children[1].properties.children.splice(t+1,0,readMoreText),pastedReadmMoreText=!0)})}dialog.pendingProps.config.uiSchema[0].properties.children[2]=lazySchema,dialog.pendingProps.config.uiSchema[0].properties.children[3]=additionalSchema,dialog.pendingProps.config.uiSchema[0].properties.children[0].properties.children.forEach(function(e,t){e.type&&"group"==e.type&&e.properties&&e.properties.children&&e.properties.children.forEach(function(e,i){"#/showPastOrUpcomingEvents"==e.$mapping&&e.properties&&(e.properties.enum&&e.properties.enumAnnotation&&e.properties.enum.length,dialog.pendingProps.config.uiSchema[0].properties.children[0].properties.children.splice(t+1,0,showAllEvents),dialog.pendingProps.config.uiSchema[0].properties.children[0].properties.children.splice(t+2,0,queryEventsTill),pastedAllEvents=!0),e.properties&&e.properties.children&&e.properties.children.forEach(function(e,t){"contentpicker"==e.type&&e.$mapping&&e.$mapping.collectionId&&(e.$mapping.urlId="#/collectionUrl",e.$mapping.title="#/title",e.$mapping.typeName="#/typeName")})})})}var config={enableLazy:!1,allEvents:!1,itemsInRow:3,tabletColumns:2,tabletGutter:20,mobileColumns:5,mobileGutter:0,loadAllOrPag:!1,loadPageSize:4,pageSize:50,wrapItemsWithLink:!1,sortSummaryItems:"no-sort",showShareButtons:"noShare",buttonsIconAlignment:"center",buttonsIconSize:"small",buttonsIconColor:"black",buttonsIconStyle:"square-border",addCatTagClasses:"none"},need_update_model=!1;for(var key in config)config.hasOwnProperty(key)&&(dialog.pendingProps.initialValue&&!dialog.pendingProps.initialValue.hasOwnProperty(key)&&(dialog.pendingProps.initialValue[key]=config[key]),model_attrs&&!model_attrs.hasOwnProperty(key)&&(model_attrs[key]=config[key],need_update_model=!0));model_attrs&&need_update_model&&model.setAttrs(model_attrs);var initial_model=model.getAttrs();initial_model&&initial_model.collectionId&&!initial_model.collectionUrl&&Y.Squarespace.ContentCollectionCache.getCollectionById(initial_model.collectionId,function(e){var t="/"+e.get("urlId");model.set("collectionUrl",t),console.log("Auto Updated model collectionUrl",model.getAttrs())}),updatePanel()}catch(e){console.log("Smth with dialog or uiSchema is not accessible",e)}}}}function initLazySummariesAdmin(){if(!window.top.__sqs_lazy_summaries_inited||!window.lazy_summaries_inited){window.top.__sqs_lazy_summaries_inited=window.lazy_summaries_inited=!0,Y.Global.after("Dialog:edit",initNewDialogLazySummaries),initFireLayoutEdit(window.top),initNewDialogsWatcher(window.top),createStylesheet("../assets.squarewebsites.org/lazy-summaries/lazy-admin-styles.min.css","lazy-admin-styles");try{initFireLayoutEdit(Y.Squarespace.Damask.ContextGlobals.fromFrame("window")._node)}catch(e){console.log(e)}Y.one("#sqs-site-frame")&&Y.one("#sqs-site-frame").on("load",function(e){initFireLayoutEdit(Y.Squarespace.Damask.ContextGlobals.fromFrame("window")._node)}),Y.Global.after("SQSLayout:edit",function(e){e&&e.context&&e.context.Y&&e.context.Y.all(".summary-v2-block").each(function(t){var i=e.context.Y.Widget.getByNode(t),r=my_debounce(function(e){Y.Global.fire("init-lazy-summary",{block:t})},300,!1);i?(i.onceAfter("render",r),i.after("widget:contentUpdate",r),i.after("widgetContentChange",r)):r()})}),intervalRun&&(window.clearInterval(intervalRun),intervalRun=null),console.log("Lazy Summaries Admin init")}}var intervalRun=!1;window.top.__sqs_lazy_summaries_inited||window.lazy_summaries_inited?console.log("Seems Lazy Summaries already initialized."):-1!=document.body.className.indexOf("sqs-frame-loaded")||intervalRun?initLazySummariesAdmin():intervalRun=setInterval(function(){var e=document.body.className&&document.body.className.indexOf("sqs-frame-loaded")>-1;e&&initLazySummariesAdmin()},100)}();