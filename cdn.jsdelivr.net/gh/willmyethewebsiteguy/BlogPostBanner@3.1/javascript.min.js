/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /gh/willmyethewebsiteguy/BlogPostBanner@3.1.21/javascript.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){let e=$('[data-wm-plugin="blog-post"]');function t(){document.querySelector("#wm-blog-banner-css")||function(e){let t=document.getElementsByTagName("head")[0],o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=e,t.appendChild(o)}("https://cdn.jsdelivr.net/gh/willmyethewebsiteguy/BlogPostBanner@3/styles.min.css?v1");let t,o=null==e.attr("data-post-style")?"1":e.attr("data-post-style"),i=(null==e.attr("data-theme")||e.attr("data-theme"),null==e.attr("data-opacity")||e.attr("data-opacity"),null==e.attr("data-img-src")?"thumbnail":e.attr("data-img-src")),r=null!=e.attr("data-excerpt")&&e.attr("data-excerpt"),l=location.protocol+"//"+location.host+location.pathname,d=document.querySelector("#sections > .page-section.content-collection")||document.querySelector("main.Main--blog-item")||document.querySelector("main.Main--events-item"),c=d.querySelector(".section-background")||document.createElement("section"),s=d.querySelector(".content-wrapper")||d.querySelector("section.Main-content"),m=(s.querySelector(".blog-item-top-wrapper")||s.querySelector(".eventitem-column-meta")||document.createElement("div")).cloneNode(!0),u=document.querySelector("body");if($.getJSON(l+"/?format=json-pretty",{_:(new Date).getTime()},(function(e){t=e;let o=100*e.item.mediaFocalPoint.x+"%"+" "+(100*e.item.mediaFocalPoint.y+"%");if(u.style.setProperty("--image-focal-point",o),"seo"==i&&(i=t.item.seoData&&t.item.seoData.seoImage&&t.item.seoData.seoImage.assetUrl?t.item.seoData.seoImage.assetUrl:t.item.assetUrl,h()),"thumbnail"==i&&(i=t.item.assetUrl,h()),"true"==r||1==r){r=t.item.excerpt;let e=`<div class="excerpt">${r}</div>`;m.insertAdjacentHTML("beforeend",e)}})),"7"==window.Static.SQUARESPACE_CONTEXT.templateVersion){document.querySelector("body").classList.add("sqs-seven"),c.classList.add("Index-page--has-image");document.querySelector("main.Main--blog-item");m.classList.add("blog-item-top-wrapper","clone"),d.prepend(c);try{let e=document.querySelector(".BlogItem-title").cloneNode(!0)||document.querySelector(".eventitem-title").cloneNode(!0);m.append(e)}catch(e){console.log("No Title")}try{let e=document.querySelector(".BlogItem-meta").cloneNode(!0)||document.querySelector(".event-meta-date-time-container").cloneNode(!0);m.append(e)}catch(e){console.log("No Meta")}try{let e=document.querySelector(".BlogItem-share").cloneNode(!0)||document.querySelector(".event-meta event-meta-addtocalendar-container").cloneNode(!0);m.append(e)}catch(e){console.log("No Share")}}u.classList.add("wm-banner-style-"+o),d.classList.add("has-banner"),c.classList.add("wm-blog-banner"),m.classList.add("clone"),m.querySelector('[itemprop="headline"]')&&m.querySelector('[itemprop="headline"]').removeAttribute("itemprop"),m.querySelector('[data-content-field="title"]')&&m.querySelector('[data-content-field="title"]').removeAttribute("data-content-field");let p=document.createElement("div"),w=document.createElement("div"),g=document.createElement("div");p.classList.add("section-background-overlay"),w.classList.add("section-background-image"),g.classList.add("section-background-content","blog-item-wrapper"),"thumbnail"!==i&&"seo"!==i&&h(),w.append(p),c.append(w),c.append(g),g.append(m);let y=window.getComputedStyle(c).getPropertyValue("background-color");function h(){let e=document.createElement("img");e.setAttribute("data-src",i),e.src=i,w.append(e)}if("7"!==window.Static.SQUARESPACE_CONTEXT.templateVersion&&u.style.setProperty("--section-background-color",y),"7"!==window.Static.SQUARESPACE_CONTEXT.templateVersion)try{let e=n();u.style.setProperty("--section-content-width",e)}catch(e){console.log(e)}"7"==window.Static.SQUARESPACE_CONTEXT.templateVersion&&document.addEventListener("DOMContentLoaded",(function(){a()})),u.classList.add("tweak-wm-banner")}function o(){const e=document.querySelector("body");new MutationObserver((function(t,o){e.classList.contains("sqs-layout-editing")?($('link[href*="BlogPostBanner"]').attr("disabled","disabled"),$(".wm-blog-banner .section-background-image").hide(),$(".wm-blog-banner .section-background-content").hide()):($('link[href*="BlogPostBanner"]').removeAttr("disabled"),$(".wm-blog-banner .section-background-image").show(),$(".wm-blog-banner .section-background-content").show())})).observe(e,{attributes:!0,childList:!1,subtree:!1,attributeFilter:["class"]})}let n=()=>{let e,t=window.Static.SQUARESPACE_CONTEXT.tweakJSON["tweak-blog-item-width"];return"Narrow"==t?e="50%":"Medium"==t?e="75%":"Wide"==t?e="100%":"Custom"==t&&(e=window.Static.SQUARESPACE_CONTEXT.tweakJSON["tweak-blog-item-custom-width"]+"%"),e},a=()=>{try{for(var e=document.querySelectorAll(".wm-blog-banner img[data-src]"),t=0;t<e.length;t++)ImageLoader.load(e[t],{load:!0})}catch(e){console.log(e)}};if("7"!==window.Static.SQUARESPACE_CONTEXT.templateVersion){if(!!document.querySelector('body[id*="collection"]'))return;let n=!!e.not("[data-no-edit-mode]").length||window.self==window.top;if(e.length&&n&&(t(),window.self!==window.top)){if(document.body.classList.contains("tweak-global-animations-animation-type-flex")){let e=document.querySelector(".has-banner .content-wrapper .blog-item-top-wrapper");e&&(e.style.display="flex",e.style.position="absolute",e.style.zIndex="1",e.style.opacity="0",window.setTimeout((function(){e.style.display="",e.style.position="relative",e.style.zIndex="",e.style.opacity="1"}),3e3))}o()}}else window.Squarespace.onInitialize(Y,(function(){e=$('[data-wm-plugin="blog-post"]'),e.length&&(t(),setTimeout((function(){Y.config.win.Squarespace.initializeLayoutBlocks(Y)}),500),window.self!==window.top&&o())}))}();let wM=window.wM||{};document.getElementById("header")&&(wM.header=wM.header||{},wM.header.version=void 0===wM.header.version||wM.header.version<1?1:wM.header.version,1==wM.header.version&&function(){let e=wM.header,t=document.getElementById("header"),o=document.documentElement;e.headerElem=t,e.setHeaderCSS=function(){e.headerBottom=e.headerElem.getBoundingClientRect().bottom,e.headerBottom=e.headerBottom<0?0:e.headerBottom,e.headerHeight=e.headerElem.getBoundingClientRect().height,o.style.setProperty("--wM-headerBottom",e.headerBottom+"px"),o.style.setProperty("--wM-headerHeight",e.headerHeight+"px")},e.setHeaderCSS(),e.headerElem.addEventListener("transitionend",(()=>{e.setHeaderCSS()})),window.addEventListener("scroll",(()=>{setTimeout((function(){e.setHeaderCSS()}),150)})),window.addEventListener("resize",(()=>{setTimeout((function(){e.setHeaderCSS()}),150)}))}());
//# sourceMappingURL=/sm/6056800d339bcd02cb8ff433eb6ca25ac20991a6f2b7d5bbb886bcc3d45f9c96.map